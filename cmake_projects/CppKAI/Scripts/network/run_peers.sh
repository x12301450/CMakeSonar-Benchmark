#!/bin/bash

# Set base path for the project
PROJECT_ROOT="/home/xian/local/KAI"
CONFIG_DIR="$PROJECT_ROOT/config"
BUILD_DIR="$PROJECT_ROOT/build"

echo "=== PEER-TO-PEER NETWORK TEST ==="
echo "This script will help you run a manual test of the peer-to-peer functionality."
echo ""
echo "Instructions:"
echo "1. Open two terminal windows"
echo ""
echo "2. In the first terminal, run:"
echo "   cd $BUILD_DIR && ./Bin/NetworkPeer $CONFIG_DIR/peer1_config.json"
echo ""
echo "3. In the second terminal, run:"
echo "   cd $BUILD_DIR && ./Bin/NetworkPeer $CONFIG_DIR/peer2_config.json"
echo ""
echo "4. In the second terminal (peer2), type:"
echo "   peers"
echo "   (This will show the connection to peer1)"
echo ""
echo "5. Then type:"
echo "   @0 add"
echo "   (This will execute the 'add' command on peer1 and return the result '3')"
echo ""
echo "6. Type 'exit' in both terminals when done"
echo ""
echo "The peer-to-peer functionality allows remote command execution across the network."
echo "Configuration is handled via JSON files in the $CONFIG_DIR directory."
echo ""